  [1m[35m (101.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "employee_attendence_test"[0m
  [1m[35m (1070.2ms)[0m  [1m[35mCREATE DATABASE "employee_attendence_test" ENCODING = 'utf8'[0m
  [1m[35mSQL (1.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "admins" CASCADE[0m
  [1m[35m (10.3ms)[0m  [1m[35mCREATE TABLE "admins" ("id" bigserial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "attendences" CASCADE[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "attendences" ("id" bigserial primary key, "working_hours" integer, "leaves" integer, "attended" boolean, "date" date NOT NULL, "employee_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_attendences_on_employee_id_and_date" ON "attendences" ("employee_id", "date")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_attendences_on_employee_id" ON "attendences" ("employee_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "employees" CASCADE[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "employees" ("id" bigserial primary key, "name" character varying, "email" character varying, "password_digest" character varying, "admin_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE INDEX "index_employees_on_admin_id" ON "employees" ("admin_id")[0m
  [1m[35m (7.8ms)[0m  [1m[35mALTER TABLE "attendences" ADD CONSTRAINT "fk_rails_d55cfdaa6a"
FOREIGN KEY ("employee_id")
  REFERENCES "employees" ("id")
[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "employees" ADD CONSTRAINT "fk_rails_1f52fab604"
FOREIGN KEY ("admin_id")
  REFERENCES "admins" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20240728105956)[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20240727064320),
(20240727065004);

[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2024-07-30 17:02:58.948039"], ["updated_at", "2024-07-30 17:02:58.948039"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "2b75d1a7adcb44adecbd6389810034b5fb4e02f7"], ["created_at", "2024-07-30 17:02:58.953190"], ["updated_at", "2024-07-30 17:02:58.953190"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"john.doe@example.com", "name"=>"John Doe", "position"=>"Developer"}}
[31mUnpermitted parameter: :position. Context: { controller: EmployeesController, action: create, request: #<ActionController::TestRequest:0x00000001075daf18>, params: {"employee"=>{"email"=>"john.doe@example.com", "name"=>"John Doe", "position"=>"Developer"}, "controller"=>"employees", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 370)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 5.2ms | Allocations: 507)
Completed 422 Unprocessable Entity in 8622ms (Views: 2472.3ms | ActiveRecord: 1.7ms | Allocations: 1187447)
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"john.doe@example.com", "name"=>"John Doe", "position"=>"Developer"}}
[31mUnpermitted parameter: :position. Context: { controller: EmployeesController, action: create, request: #<ActionController::TestRequest:0x000000010d697db0>, params: {"employee"=>{"email"=>"john.doe@example.com", "name"=>"John Doe", "position"=>"Developer"}, "controller"=>"employees", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 199)
Completed 422 Unprocessable Entity in 1962ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 151701)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}}
[31mUnpermitted parameter: :position. Context: { controller: EmployeesController, action: create, request: #<ActionController::TestRequest:0x000000010bc53850>, params: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}, "controller"=>"employees", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 199)
Completed 422 Unprocessable Entity in 1507ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 151156)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"john.doe@example.com", "name"=>"John Doe", "position"=>"Developer"}}
[31mUnpermitted parameter: :position. Context: { controller: EmployeesController, action: create, request: #<ActionController::TestRequest:0x000000010f9f8340>, params: {"employee"=>{"email"=>"john.doe@example.com", "name"=>"John Doe", "position"=>"Developer"}, "controller"=>"employees", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 212)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 342)
Completed 422 Unprocessable Entity in 286ms (Views: 275.9ms | ActiveRecord: 0.4ms | Allocations: 288321)
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"john.doe@example.com", "name"=>"John Doe", "position"=>"Developer"}}
[31mUnpermitted parameter: :position. Context: { controller: EmployeesController, action: create, request: #<ActionController::TestRequest:0x00000001100332a0>, params: {"employee"=>{"email"=>"john.doe@example.com", "name"=>"John Doe", "position"=>"Developer"}, "controller"=>"employees", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 186)
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1044)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}}
[31mUnpermitted parameter: :position. Context: { controller: EmployeesController, action: create, request: #<ActionController::TestRequest:0x000000010fd94a80>, params: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}, "controller"=>"employees", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 185)
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1047)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.3ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"1", "email"=>"john.doe@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 213)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.9ms | Allocations: 343)
Completed 422 Unprocessable Entity in 15ms (Views: 7.7ms | ActiveRecord: 0.5ms | Allocations: 4659)
  [1m[36mEmployee Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"1", "email"=>"john.doe@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 186)
Completed 422 Unprocessable Entity in 4ms (Views: 1.0ms | ActiveRecord: 0.5ms | Allocations: 1220)
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}}
[31mUnpermitted parameter: :position. Context: { controller: EmployeesController, action: create, request: #<ActionController::TestRequest:0x000000010de3f658>, params: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}, "controller"=>"employees", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 185)
Completed 422 Unprocessable Entity in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms | Allocations: 1071)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.3ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"1", "email"=>"john.doe@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 213)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 343)
Completed 422 Unprocessable Entity in 15ms (Views: 8.9ms | ActiveRecord: 0.6ms | Allocations: 4655)
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"1", "email"=>"john.doe@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 186)
Completed 422 Unprocessable Entity in 4ms (Views: 0.8ms | ActiveRecord: 0.4ms | Allocations: 1220)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}}
[31mUnpermitted parameter: :position. Context: { controller: EmployeesController, action: create, request: #<ActionController::TestRequest:0x0000000108676a48>, params: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}, "controller"=>"employees", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.3ms | Allocations: 185)
Completed 422 Unprocessable Entity in 2ms (Views: 0.6ms | ActiveRecord: 0.3ms | Allocations: 1071)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAdmin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example test.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAdmin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "john.doe@testadmin.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.6ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@testadmin.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:11:45.888000"], ["updated_at", "2024-07-30 17:11:45.888000"]]
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.6ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 1], ["created_at", "2024-07-30 17:11:45.929206"], ["updated_at", "2024-07-30 17:11:45.929206"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 1], ["created_at", "2024-07-30 17:11:45.962211"], ["updated_at", "2024-07-30 17:11:45.962211"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"2"}
Redirected to http://test.host/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.0ms | Allocations: 1465)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"1", "email"=>"john.doe@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.6ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (5.0ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (2.9ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 1], ["created_at", "2024-07-30 17:11:46.042172"], ["updated_at", "2024-07-30 17:11:46.042172"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 63ms (ActiveRecord: 13.3ms | Allocations: 1117)
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"1", "email"=>"john.doe@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 1], ["created_at", "2024-07-30 17:11:46.053015"], ["updated_at", "2024-07-30 17:11:46.053015"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.9ms | Allocations: 1002)
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}}
[31mUnpermitted parameter: :position. Context: { controller: EmployeesController, action: create, request: #<ActionController::TestRequest:0x0000000114c83498>, params: {"employee"=>{"email"=>"invalid", "name"=>"", "position"=>""}, "controller"=>"employees", "action"=>"create"} }[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 210)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 339)
Completed 422 Unprocessable Entity in 288ms (Views: 285.7ms | ActiveRecord: 0.6ms | Allocations: 284880)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 1], ["created_at", "2024-07-30 17:11:46.353055"], ["updated_at", "2024-07-30 17:11:46.353055"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 1], ["created_at", "2024-07-30 17:11:46.356856"], ["updated_at", "2024-07-30 17:11:46.356856"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 1], ["created_at", "2024-07-30 17:11:46.361569"], ["updated_at", "2024-07-30 17:11:46.361569"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 1], ["created_at", "2024-07-30 17:11:46.367097"], ["updated_at", "2024-07-30 17:11:46.367097"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mEmployee Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john.doe@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john.doe@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 1], ["created_at", "2024-07-30 17:11:46.371419"], ["updated_at", "2024-07-30 17:11:46.371419"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.8ms | Allocations: 214)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.0ms | Allocations: 344)
Completed 200 OK in 1997ms (Views: 1993.6ms | ActiveRecord: 0.0ms | Allocations: 285118)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"wrong@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (7.4ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (4.7ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 185)
Completed 401 Unauthorized in 26ms (Views: 0.9ms | ActiveRecord: 14.0ms | Allocations: 6142)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#signup as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 186)
Completed 200 OK in 23ms (Views: 1.4ms | ActiveRecord: 15.3ms | Allocations: 4691)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid_email", "name"=>"", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid_email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (ActiveRecord: 0.6ms | Allocations: 3352)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 1.0ms | Allocations: 214)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 344)
Completed 200 OK in 16ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 3805)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"wrong@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 185)
Completed 401 Unauthorized in 9ms (Views: 0.9ms | ActiveRecord: 1.5ms | Allocations: 3380)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#signup as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 186)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 1.1ms | Allocations: 2937)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid_email", "name"=>"", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid_email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (ActiveRecord: 0.4ms | Allocations: 2738)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:25:26.827227"], ["updated_at", "2024-07-30 17:25:26.827227"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 2], ["created_at", "2024-07-30 17:25:26.843022"], ["updated_at", "2024-07-30 17:25:26.843022"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:25:26.863705"], ["updated_at", "2024-07-30 17:25:26.863705"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 1.0ms | Allocations: 214)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.2ms | Allocations: 344)
Completed 200 OK in 291ms (Views: 286.9ms | ActiveRecord: 0.0ms | Allocations: 285356)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:25:27.173264"], ["updated_at", "2024-07-30 17:25:27.173264"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 4], ["created_at", "2024-07-30 17:25:27.175863"], ["updated_at", "2024-07-30 17:25:27.175863"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"john@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 185)
Completed 401 Unauthorized in 4ms (Views: 0.8ms | ActiveRecord: 0.5ms | Allocations: 1329)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:25:27.263429"], ["updated_at", "2024-07-30 17:25:27.263429"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 186)
Completed 401 Unauthorized in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 842)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"wrong@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 185)
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 764)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#signup as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 186)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 575)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:25:27.279409"], ["updated_at", "2024-07-30 17:25:27.279409"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"6", "email"=>"john@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (ActiveRecord: 0.4ms | Allocations: 2218)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid_email", "name"=>"", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid_email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (ActiveRecord: 0.3ms | Allocations: 1659)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:25:27.297402"], ["updated_at", "2024-07-30 17:25:27.297402"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 7], ["created_at", "2024-07-30 17:25:27.299976"], ["updated_at", "2024-07-30 17:25:27.299976"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:25:27.304547"], ["updated_at", "2024-07-30 17:25:27.304547"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:25:27.308999"], ["updated_at", "2024-07-30 17:25:27.308999"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 9], ["created_at", "2024-07-30 17:25:27.311638"], ["updated_at", "2024-07-30 17:25:27.311638"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"13"}
Redirected to http://test.host/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 211)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:25:27.322674"], ["updated_at", "2024-07-30 17:25:27.322674"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 10], ["created_at", "2024-07-30 17:25:27.325784"], ["updated_at", "2024-07-30 17:25:27.325784"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:27:32.282151"], ["updated_at", "2024-07-30 17:27:32.282151"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 11], ["created_at", "2024-07-30 17:27:32.296481"], ["updated_at", "2024-07-30 17:27:32.296481"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
Redirected to http://test.host/employees/15
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1974)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:27:32.368589"], ["updated_at", "2024-07-30 17:27:32.368589"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.2ms | Allocations: 416)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.8ms | Allocations: 212)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 341)
Completed 200 OK in 279ms (Views: 279.3ms | ActiveRecord: 0.0ms | Allocations: 284125)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:27:32.656530"], ["updated_at", "2024-07-30 17:27:32.656530"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 13], ["created_at", "2024-07-30 17:27:32.659000"], ["updated_at", "2024-07-30 17:27:32.659000"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"john@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 185)
Completed 401 Unauthorized in 3ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 1094)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:27:32.678084"], ["updated_at", "2024-07-30 17:27:32.678084"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 186)
Completed 401 Unauthorized in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms | Allocations: 832)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"wrong@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 185)
Completed 401 Unauthorized in 2ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 764)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#signup as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 186)
Completed 200 OK in 2ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 575)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:27:32.695434"], ["updated_at", "2024-07-30 17:27:32.695434"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"15", "email"=>"john@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (ActiveRecord: 0.5ms | Allocations: 2197)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid_email", "name"=>"", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid_email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (ActiveRecord: 0.4ms | Allocations: 1659)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:27:32.713648"], ["updated_at", "2024-07-30 17:27:32.713648"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 16], ["created_at", "2024-07-30 17:27:32.716488"], ["updated_at", "2024-07-30 17:27:32.716488"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mAttendence Sum (10.4ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 17], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 17], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 17]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 17]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 17], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 72)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 186)
Completed 200 OK in 57ms (Views: 0.9ms | ActiveRecord: 12.3ms | Allocations: 7100)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:27:32.778615"], ["updated_at", "2024-07-30 17:27:32.778615"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 17], ["created_at", "2024-07-30 17:27:32.781114"], ["updated_at", "2024-07-30 17:27:32.781114"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mAttendence Sum (0.3ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 18], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 18], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 18]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 18]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 18], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 71)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 185)
Completed 200 OK in 6ms (Views: 0.9ms | ActiveRecord: 1.4ms | Allocations: 2594)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:27:32.791368"], ["updated_at", "2024-07-30 17:27:32.791368"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 18], ["created_at", "2024-07-30 17:27:32.793936"], ["updated_at", "2024-07-30 17:27:32.793936"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"19"}
Redirected to http://test.host/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 147)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:27:32.812839"], ["updated_at", "2024-07-30 17:27:32.812839"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 19], ["created_at", "2024-07-30 17:27:32.815480"], ["updated_at", "2024-07-30 17:27:32.815480"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 147)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (5.7ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:38.028401"], ["updated_at", "2024-07-30 17:29:38.028401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (7.5ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 20], ["created_at", "2024-07-30 17:29:38.082788"], ["updated_at", "2024-07-30 17:29:38.082788"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
Redirected to http://test.host/employees/21
Completed 302 Found in 25ms (ActiveRecord: 0.3ms | Allocations: 1974)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:38.329636"], ["updated_at", "2024-07-30 17:29:38.329636"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 416)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 5.9ms | Allocations: 223)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 6.1ms | Allocations: 358)
Completed 200 OK in 2009ms (Views: 2009.2ms | ActiveRecord: 0.0ms | Allocations: 284145)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:40.346311"], ["updated_at", "2024-07-30 17:29:40.346311"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 22], ["created_at", "2024-07-30 17:29:40.348804"], ["updated_at", "2024-07-30 17:29:40.348804"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"john@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 199)
Completed 401 Unauthorized in 4ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 1108)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:40.442168"], ["updated_at", "2024-07-30 17:29:40.442168"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 200)
Completed 401 Unauthorized in 3ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 846)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"wrong@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 199)
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 778)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#signup as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 200)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 589)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:40.463551"], ["updated_at", "2024-07-30 17:29:40.463551"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:40.482941"], ["updated_at", "2024-07-30 17:29:40.482941"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"25", "email"=>"john@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 21ms (ActiveRecord: 0.5ms | Allocations: 2192)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid_email", "name"=>"", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid_email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (ActiveRecord: 0.4ms | Allocations: 1661)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:40.514776"], ["updated_at", "2024-07-30 17:29:40.514776"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 26], ["created_at", "2024-07-30 17:29:40.517589"], ["updated_at", "2024-07-30 17:29:40.517589"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mAttendence Sum (0.8ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 23], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 23], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 23]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 23]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 23], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 200)
Completed 200 OK in 38ms (Views: 1.0ms | ActiveRecord: 2.7ms | Allocations: 5360)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:40.560108"], ["updated_at", "2024-07-30 17:29:40.560108"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 27], ["created_at", "2024-07-30 17:29:40.575269"], ["updated_at", "2024-07-30 17:29:40.575269"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mAttendence Sum (0.3ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 24], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 24], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 24]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 24]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 24], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 199)
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 1.2ms | Allocations: 2614)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:40.585900"], ["updated_at", "2024-07-30 17:29:40.585900"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 28], ["created_at", "2024-07-30 17:29:40.588466"], ["updated_at", "2024-07-30 17:29:40.588466"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"25"}
Redirected to http://test.host/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 147)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:29:40.594271"], ["updated_at", "2024-07-30 17:29:40.594271"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 29], ["created_at", "2024-07-30 17:29:40.597077"], ["updated_at", "2024-07-30 17:29:40.597077"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 147)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:27.853979"], ["updated_at", "2024-07-30 17:31:27.853979"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 30], ["created_at", "2024-07-30 17:31:27.868116"], ["updated_at", "2024-07-30 17:31:27.868116"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
Redirected to http://test.host/employees/27
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1973)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:27.903531"], ["updated_at", "2024-07-30 17:31:27.903531"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 416)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.8ms | Allocations: 223)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 358)
Completed 200 OK in 245ms (Views: 245.1ms | ActiveRecord: 0.0ms | Allocations: 284146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:28.156503"], ["updated_at", "2024-07-30 17:31:28.156503"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (10.8ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 32], ["created_at", "2024-07-30 17:31:28.158872"], ["updated_at", "2024-07-30 17:31:28.158872"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"john@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
Redirected to http://test.host/employees/28
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 736)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:28.182004"], ["updated_at", "2024-07-30 17:31:28.182004"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 487)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"wrong@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 199)
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms | Allocations: 796)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#signup as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 200)
Completed 200 OK in 1ms (Views: 1.3ms | ActiveRecord: 0.0ms | Allocations: 589)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:28.195374"], ["updated_at", "2024-07-30 17:31:28.195374"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:28.209886"], ["updated_at", "2024-07-30 17:31:28.209886"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"35", "email"=>"john@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (ActiveRecord: 0.5ms | Allocations: 2192)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"email"=>"invalid_email", "name"=>"", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "invalid_email"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3ms (ActiveRecord: 0.3ms | Allocations: 1661)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:28.226441"], ["updated_at", "2024-07-30 17:31:28.226441"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 36], ["created_at", "2024-07-30 17:31:28.229095"], ["updated_at", "2024-07-30 17:31:28.229095"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mAttendence Sum (0.8ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 29], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 29], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 29]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 29]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 29], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 79)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 201)
Completed 200 OK in 13ms (Views: 0.8ms | ActiveRecord: 2.5ms | Allocations: 5361)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:28.247762"], ["updated_at", "2024-07-30 17:31:28.247762"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 37], ["created_at", "2024-07-30 17:31:28.250783"], ["updated_at", "2024-07-30 17:31:28.250783"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 30], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 30], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 30]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 30]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 30], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 199)
Completed 200 OK in 18ms (Views: 0.8ms | ActiveRecord: 1.3ms | Allocations: 2613)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:28.273750"], ["updated_at", "2024-07-30 17:31:28.273750"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 38], ["created_at", "2024-07-30 17:31:28.277070"], ["updated_at", "2024-07-30 17:31:28.277070"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"31"}
Redirected to http://test.host/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 147)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:31:28.282799"], ["updated_at", "2024-07-30 17:31:28.282799"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 39], ["created_at", "2024-07-30 17:31:28.285688"], ["updated_at", "2024-07-30 17:31:28.285688"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 147)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.070766"], ["updated_at", "2024-07-30 17:35:29.070766"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 40], ["created_at", "2024-07-30 17:35:29.086401"], ["updated_at", "2024-07-30 17:35:29.086401"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
Redirected to http://test.host/employees/33
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1973)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.131502"], ["updated_at", "2024-07-30 17:35:29.131502"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 416)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.9ms | Allocations: 223)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 358)
Completed 200 OK in 299ms (Views: 299.0ms | ActiveRecord: 0.0ms | Allocations: 284146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.438326"], ["updated_at", "2024-07-30 17:35:29.438326"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 42], ["created_at", "2024-07-30 17:35:29.440685"], ["updated_at", "2024-07-30 17:35:29.440685"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"john@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
Redirected to http://test.host/employees/34
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 736)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.451524"], ["updated_at", "2024-07-30 17:35:29.451524"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 487)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"wrong@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 199)
Completed 401 Unauthorized in 2ms (Views: 0.9ms | ActiveRecord: 0.3ms | Allocations: 796)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#signup as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 200)
Completed 200 OK in 2ms (Views: 1.5ms | ActiveRecord: 0.0ms | Allocations: 589)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.463929"], ["updated_at", "2024-07-30 17:35:29.463929"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.482304"], ["updated_at", "2024-07-30 17:35:29.482304"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"45", "email"=>"john@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 45], ["created_at", "2024-07-30 17:35:29.490183"], ["updated_at", "2024-07-30 17:35:29.490183"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms | Allocations: 1681)
  [1m[36mEmployee Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.495935"], ["updated_at", "2024-07-30 17:35:29.495935"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 46], ["created_at", "2024-07-30 17:35:29.499251"], ["updated_at", "2024-07-30 17:35:29.499251"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"36"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mAttendence Sum (1.0ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 36], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.3ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 36], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 36]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 36]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 36], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 79)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 201)
Completed 200 OK in 18ms (Views: 1.1ms | ActiveRecord: 3.3ms | Allocations: 5362)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.523370"], ["updated_at", "2024-07-30 17:35:29.523370"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 47], ["created_at", "2024-07-30 17:35:29.527513"], ["updated_at", "2024-07-30 17:35:29.527513"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"37"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.2ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mAttendence Sum (0.3ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 37], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.3ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 37], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 37]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 37]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 37], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.3ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 199)
Completed 200 OK in 7ms (Views: 1.0ms | ActiveRecord: 1.5ms | Allocations: 2608)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.540343"], ["updated_at", "2024-07-30 17:35:29.540343"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 48], ["created_at", "2024-07-30 17:35:29.544327"], ["updated_at", "2024-07-30 17:35:29.544327"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"38"}
Redirected to http://test.host/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:29.565960"], ["updated_at", "2024-07-30 17:35:29.565960"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 49], ["created_at", "2024-07-30 17:35:29.569170"], ["updated_at", "2024-07-30 17:35:29.569170"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 147)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.3ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:58.649221"], ["updated_at", "2024-07-30 17:35:58.649221"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.4ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 50], ["created_at", "2024-07-30 17:35:58.664289"], ["updated_at", "2024-07-30 17:35:58.664289"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
Redirected to http://test.host/employees/40
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1973)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:58.705244"], ["updated_at", "2024-07-30 17:35:58.705244"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 416)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.9ms | Allocations: 223)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 358)
Completed 200 OK in 275ms (Views: 275.3ms | ActiveRecord: 0.0ms | Allocations: 284146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:58.987495"], ["updated_at", "2024-07-30 17:35:58.987495"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 52], ["created_at", "2024-07-30 17:35:58.989876"], ["updated_at", "2024-07-30 17:35:58.989876"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"john@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
Redirected to http://test.host/employees/41
Completed 302 Found in 3ms (ActiveRecord: 0.3ms | Allocations: 736)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:59.001874"], ["updated_at", "2024-07-30 17:35:59.001874"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.3ms | Allocations: 487)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"wrong@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 199)
Completed 401 Unauthorized in 2ms (Views: 1.0ms | ActiveRecord: 0.3ms | Allocations: 796)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#signup as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.6ms | Allocations: 200)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.0ms | Allocations: 589)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:59.016104"], ["updated_at", "2024-07-30 17:35:59.016104"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.1ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:59.033296"], ["updated_at", "2024-07-30 17:35:59.033296"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"55", "email"=>"john@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 55], ["created_at", "2024-07-30 17:35:59.042686"], ["updated_at", "2024-07-30 17:35:59.042686"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.7ms | Allocations: 1681)
  [1m[36mEmployee Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:59.047922"], ["updated_at", "2024-07-30 17:35:59.047922"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 56], ["created_at", "2024-07-30 17:35:59.050917"], ["updated_at", "2024-07-30 17:35:59.050917"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"43"}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mAttendence Sum (1.5ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 43], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.3ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 43], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 43]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 43]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 43], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 79)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 201)
Completed 200 OK in 16ms (Views: 0.9ms | ActiveRecord: 3.5ms | Allocations: 5362)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:59.071941"], ["updated_at", "2024-07-30 17:35:59.071941"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 57], ["created_at", "2024-07-30 17:35:59.074575"], ["updated_at", "2024-07-30 17:35:59.074575"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"44"}
Redirected to http://test.host/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:35:59.080666"], ["updated_at", "2024-07-30 17:35:59.080666"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 58], ["created_at", "2024-07-30 17:35:59.083816"], ["updated_at", "2024-07-30 17:35:59.083816"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 147)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.5ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:37:38.309249"], ["updated_at", "2024-07-30 17:37:38.309249"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.6ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 59], ["created_at", "2024-07-30 17:37:38.323540"], ["updated_at", "2024-07-30 17:37:38.323540"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
Redirected to http://test.host/employees/46
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 1973)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:37:38.364510"], ["updated_at", "2024-07-30 17:37:38.364510"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#home as HTML
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 1ms (ActiveRecord: 0.1ms | Allocations: 416)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#home as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.9ms | Allocations: 223)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | Allocations: 358)
Completed 200 OK in 287ms (Views: 287.3ms | ActiveRecord: 0.0ms | Allocations: 284146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:37:38.660084"], ["updated_at", "2024-07-30 17:37:38.660084"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 61], ["created_at", "2024-07-30 17:37:38.662456"], ["updated_at", "2024-07-30 17:37:38.662456"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"john@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
Redirected to http://test.host/employees/47
Completed 302 Found in 3ms (ActiveRecord: 0.4ms | Allocations: 736)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:37:38.674858"], ["updated_at", "2024-07-30 17:37:38.674858"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"admin@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
Redirected to http://test.host/admin_dashboard
Completed 302 Found in 2ms (ActiveRecord: 0.2ms | Allocations: 487)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#login as HTML
  Parameters: {"session"=>{"email"=>"wrong@example.com", "password"=>"[FILTERED]"}}
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "wrong@example.com"], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering employees/login.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/login.html.erb within layouts/application (Duration: 0.2ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 199)
Completed 401 Unauthorized in 2ms (Views: 0.8ms | ActiveRecord: 0.2ms | Allocations: 796)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
Processing by EmployeesController#signup as HTML
  Rendering layout layouts/application.html.erb
  Rendering employees/new.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.4ms | Allocations: 200)
Completed 200 OK in 1ms (Views: 1.1ms | ActiveRecord: 0.0ms | Allocations: 589)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mEmployee Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:37:38.690572"], ["updated_at", "2024-07-30 17:37:38.690572"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#create as HTML
  Parameters: {"employee"=>{"admin_id"=>"63", "email"=>"john@example.com", "name"=>"John Doe", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  [1m[36mEmployee Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 63], ["created_at", "2024-07-30 17:37:38.698983"], ["updated_at", "2024-07-30 17:37:38.698983"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms | Allocations: 1686)
  [1m[36mEmployee Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:37:38.703235"], ["updated_at", "2024-07-30 17:37:38.703235"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 64], ["created_at", "2024-07-30 17:37:38.706096"], ["updated_at", "2024-07-30 17:37:38.706096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"49"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mAttendence Sum (0.8ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 49], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 49], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 49]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 49]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 49], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 78)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 200)
Completed 200 OK in 15ms (Views: 0.8ms | ActiveRecord: 2.6ms | Allocations: 5365)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:37:38.726974"], ["updated_at", "2024-07-30 17:37:38.726974"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 65], ["created_at", "2024-07-30 17:37:38.730238"], ["updated_at", "2024-07-30 17:37:38.730238"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"50"}
  [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mAdmin Load (0.1ms)[0m  [1m[34mSELECT "admins".* FROM "admins" WHERE "admins"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."id" = $1 LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mAttendence Sum (0.3ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_day_attendences_date_timestamptz_at_time_zone_etc_ut" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('day', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 50], ["date", "2024-07-01"], ["date", "2024-07-31"]]
  [1m[36mAttendence Sum (0.3ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") AS "sum_working_hours", DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date AS "date_trunc_month_attendences_date_timestamptz_at_time_zone_etc_" FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."date" BETWEEN $2 AND $3 AND ("attendences"."date" IS NOT NULL) GROUP BY DATE_TRUNC('month', "attendences"."date"::timestamptz AT TIME ZONE 'Etc/UTC')::date[0m  [["employee_id", 50], ["date", "2023-01-01"], ["date", "2024-12-31"]]
  [1m[36mAttendence Sum (0.1ms)[0m  [1m[34mSELECT SUM("attendences"."working_hours") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 50]]
  [1m[36mAttendence Sum (0.2ms)[0m  [1m[34mSELECT SUM("attendences"."leaves") FROM "attendences" WHERE "attendences"."employee_id" = $1[0m  [["employee_id", 50]]
  [1m[36mAttendence Count (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "attendences" WHERE "attendences"."employee_id" = $1 AND "attendences"."attended" = $2[0m  [["employee_id", 50], ["attended", true]]
  Rendering layout layouts/application.html.erb
  Rendering employees/show.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered employees/show.html.erb within layouts/application (Duration: 0.2ms | Allocations: 77)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered layout layouts/application.html.erb (Duration: 0.5ms | Allocations: 199)
Completed 200 OK in 5ms (Views: 0.8ms | ActiveRecord: 1.3ms | Allocations: 2608)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:37:38.740713"], ["updated_at", "2024-07-30 17:37:38.740713"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 66], ["created_at", "2024-07-30 17:37:38.743823"], ["updated_at", "2024-07-30 17:37:38.743823"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#show as HTML
  Parameters: {"id"=>"51"}
Redirected to http://test.host/
Filter chain halted as :require_login rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 146)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAdmin Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "admins" WHERE "admins"."email" = $1 LIMIT $2[0m  [["email", "admin@example.com"], ["LIMIT", 1]]
  [1m[36mAdmin Create (0.2ms)[0m  [1m[32mINSERT INTO "admins" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Admin"], ["email", "admin@example.com"], ["password_digest", "[FILTERED]"], ["created_at", "2024-07-30 17:37:38.757814"], ["updated_at", "2024-07-30 17:37:38.757814"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEmployee Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "employees" WHERE "employees"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("name", "email", "password_digest", "admin_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["name", "John Doe"], ["email", "john@example.com"], ["password_digest", "[FILTERED]"], ["admin_id", 67], ["created_at", "2024-07-30 17:37:38.761031"], ["updated_at", "2024-07-30 17:37:38.761031"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by EmployeesController#logout as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms | Allocations: 147)
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[31mROLLBACK[0m
